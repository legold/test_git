<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
   <meta http-equiv="Pragma" content="no-cache">
   <meta http-equiv="Expires" content="0">
   <meta http-equiv="X-UA-Compatible" content="IE-Edge,chrome=1">
   <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no">
   <meta content="yes" name="apple-mobile-web-app-capable">
   <meta content="black" name="apple-mobile-web-app-status-bar-style"> 
   <meta content="telephone=no" name="format-detection">  
   <meta content="email=no" name="format-detection"> 
   <title>您的个人资料</title>
   <meta name="description" content="">
   <meta name="keywords" content="">
   <link rel="stylesheet" type="text/css" href="css/cms_x.css">
</head>
<body>
    
    <div class="per_set per_page">
      <h2 class="bor_bot pad_h_36">您好！请完善以下资料，带有<span class="col_xin">*</span>的项目是必填的哦。</h2>
      <form action="" method="" class="set_form">
        <div class="bor_bot pad_h_36 pad_v_24 option">
            <label for="identity">ID号<span class="col_xin">*</span></label><div class="txt_box"><input id="identity" type="text" class="txt" placeholder="可在APP个人中心页面上方查看" /></div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option">
            <label for="phone">注册手机号<span class="col_xin">*</span></label><div class="txt_box"><input id="phone" type="tel" class="txt" placeholder="您在注册入香如净APP时使用的手机号码" /></div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option">
            <label for="group_name">组织名称<span class="col_xin">*</span></label><div class="txt_box"><input id="group_name" type="text" class="txt" placeholder="显示于APP首页中间个人中心块" /></div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option">
            <label for="intro">文字简介<span class="col_xin">*</span></label><div class="txt_box"><textarea id="intro" cols="30" rows="10" class="txt" placeholder="此处填写个人/组织的简介"></textarea></div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option">
            <label for="">背景图上传<span class="col_xin">*</span></label>
            <div class="file_box">
               <div class="file_box_btn">
                  <span class="file_btn">上传图片</span>
                  <input id="bg_upload" type="file" value="上传图片" onChange="showImage(this,this.parentNode.parentNode);" />                             
               </div>
               <div class="file_note">支持jpg/png格式，RGB模式，尺寸640px*1136px，大小&lt;100kb</div>   
            </div>
        </div>
        <div class="pad_h_36 pad_v_24 option">
            <label for="">首页展示头像<span class="col_xin">*</span></label>
            <div class="file_box">
               <div class="file_box_btn">
                  <span class="file_btn">上传头像</span>
                  <input id="tou_upload" type="file" value="上传图片" onChange="showImage(this,this.parentNode.parentNode);" />   <!--accept="image/*"-->                           
               </div>
               <div class="file_note">支持jpg/png格式，RGB模式，尺寸120px*120px，大小&lt;50kb</div>   
            </div>
        </div>
        <h4 class="pad_h_36 pad_v_24">以下为个性设置部分，可选择性修改</h4>
        <div class="bor_bot pad_h_36 pad_v_24 option_t">
            <label for="">四大板块标题</label>
            <div class="set_txt txt_one_4">
              <span class="bor"><input class="check_4 zhong" type="text" value="限时闪购" /></span>
              <span class="bor"><input class="check_4 zhong" type="text" value="一级竞拍" /></span>
              <span class="bor"><input class="check_4 zhong" type="text" value="商品库" /></span>
              <span class="bor"><input class="check_4 zhong" type="text" value="香内参"></span> 
            </div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option_t">
            <label for="">标题颜色</label>
            <div class="set_txt txt_one_3">
              <span class="bor"><b>R:</b><input class="check_3 num" type="text" value="236" /></span>
              <span class="bor"><b>G:</b><input class="check_3 num" type="text" value="105" /></span>
              <span class="bor"><b>B:</b><input class="check_3 num" type="text" value="66" /></span>
            </div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option_t">
            <label for="">副标题内容</label>
            <div class="set_txt txt_two_4">
              <span class="bor"><input class="check_10 zhong" type="text" value="高级供应权限 限时闪" /></span>
              <span class="bor"><input class="check_10 zhong" type="text" value="沉香一级竞拍公平公正" /></span>
              <span class="bor"><input class="check_10 zhong" type="text" value="绝对权限 一对一供应" /></span>
              <span class="bor"><input class="check_10 zhong" type="text" value="国际沉香行情在线动态"></span> 
            </div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option_t">
            <label for="">副标题颜色</label>
            <div class="set_txt txt_one_3">
              <span class="bor"><b>R:</b><input class="check_3 num" type="text" value="236" /></span>
              <span class="bor"><b>G:</b><input class="check_3 num" type="text" value="105" /></span>
              <span class="bor"><b>B:</b><input class="check_3 num" type="text" value="66" /></span>
            </div>
        </div>
        <div class="bor_bot pad_h_36 pad_v_24 option_t" style="display:table-cell;">
            <label for="">中部文字背景色</label>
            <div class="set_txt set_txt_inline txt_one_3">
              <span class="bor"><b>R:</b><input class="check_3 num" type="text" value="236" /></span>
              <span class="bor"><b>G:</b><input class="check_3 num" type="text" value="105" /></span>
              <span class="bor"><b>B:</b><input class="check_3 num" type="text" value="66" /></span>              
            </div>
            <div class="touming txt_one_3 set_txt">
              <label for="" style="width:auto;padding:0 0 0 10px;">透明度</label>
              <span class="bor"><input class="check_3 percent num" type="text" value="80" /><b>%</b></span>
            </div>
        </div>
        <div class="pad_h_36 pad_v_24" style="padding-left:44px;">
          <input type="button" value="确认提交" class="per_submit" />
        </div>
      </form>
    </div>

    <script src="http://lib.sinaapp.com/js/jquery/1.10.1/jquery-1.10.1.min.js"></script> <!--新浪云计算公共库-->
    <script>window.jQuery || document.write('<script src="js/jquery-1.10.1.min.js"><\/script>');</script>
    <script>
    //上传图片并显示图片
    function showImage(obj,par){
       var path = obj.value;
       var arr = path.split('\\');
       var end_path = arr[arr.length-1];
       console.log(path,arr,end_path);  //上传的图片的路径
       var img = document.createElement('img');
       img.className = "upload_tu";
       
       par.appendChild(img);
       img.previousSibling.parentNode.removeChild(img.previousSibling);
       img.src = 'images/'+end_path;   
       
    }

    


    function addTip(info,e){
          var oTip = document.createElement('em');
          oTip.className = 'tip';
          oTip.innerText = info;
          var e = e || window;
          //console.log(e.target.parentNode);          
          $(e.target.parentNode).append(oTip);
          var $oTip_h = $(oTip).outerHeight(true);
          $(oTip).css({
            'top':-($oTip_h+10)
          });
          var e_move = setTimeout(function(){  //提示显示3秒后消失
            $(oTip).remove();
          },3000);
    }
    function setHead(obj,num){
      $(obj).each(function(){ //初始设置的值保存起来
        var default_val = $(this).val();
        $(this).attr('dft_val',default_val);
      });

      if($(obj).hasClass('zhong')){  //限制只能输入中文
        $(obj).focus(function(e){
          console.warn('请输入中文！');
          addTip('请输入中文！',e); 
        });
        $(obj).blur(function(){
          $(this).next('.tip').remove();
        });
        $(obj).keyup(function(e){
          console.log('keyup启动！');
          var that = this;
          var val = $(that).val();
          var reg = /[^\u4e00-\u9fa5]/g;
          if(e.keyCode == 32){
            var tt = setTimeout(function(){
                //console.log(val,'hah');
                val = val.substring(0,num);
                $(that).val(val);
            },1000);
          }else{
            //console.log(e.keyCode);
            val = val.replace(reg,'');
            $(that).val(val);
          }
        });

      }else{  //限制只能输入数字
        $(obj).focus(function(e){
          console.warn('请输入整数！');
          addTip('请输入整数！',e);
        });
        $(obj).keyup(function(){
          var that = this;
          var val = $(that).val();
          if(isNaN(val)){
            val = val.replace(/\D/g,'');
            $(that).val(val);
          }
          if($(this).hasClass('percent')){
            if(val>100){
              $(that).val($(that).attr('dft_val'));
            }
          }else{
            if(val>255){
              $(that).val($(that).attr('dft_val'));
            }
          }
        });
        $(obj).blur(function(){
          $(this).parent('.bor').find('.tip').remove();
        });
      }
      
      $(obj).blur(function(){ //恢复默认值
        var val = $(this).val();
        var val2 = $(this).attr('dft_val');
        if(!val){
          console.log('啊哦！值要初始化了哦！');
          $(this).val(val2);
        }
      });

    }
    setHead('.check_4',4);
    setHead('.check_3',3);
    setHead('.check_10',10);

    </script>
</body>
</html>